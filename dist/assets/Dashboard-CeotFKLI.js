import{a as e,j as r,u as s,L as a}from"./index-BfeymZvK.js";import{e as t,r as l}from"./router-BAol8ij6.js";import{m as n,a as d}from"./mockData-DXq5gNEN.js";import{c as i,d as o,H as c,e as x,B as m,U as g,C as h,f as u,g as b,h as f,i as y,j as p,P as j,k as N,l as v,m as k,o as w}from"./ui-COv8QD3e.js";import"./vendor-DOHx2j1n.js";const S=()=>{const{theme:s,toggleTheme:a}=e();return r.jsx("button",{onClick:a,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":`Switch to ${"light"===s?"dark":"light"} mode`,children:"light"===s?r.jsx(i,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}):r.jsx(o,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})})},C=()=>{const{user:e,logout:i}=s(),o=t(),[C,A]=l.useState("queries"),[q,F]=l.useState(null),[D,L]=l.useState("list"),[R,Q]=l.useState(!0),[I,M]=l.useState([]),[P,T]=l.useState([]);l.useEffect(()=>{(async()=>{Q(!0);try{await new Promise(e=>setTimeout(e,1500)),M(n),T(d)}catch(e){console.error("Failed to load data:",e)}finally{Q(!1)}})()},[]);return R?r.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsx(a,{size:"lg",text:"Loading dashboard..."})}):r.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[r.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 px-4 md:px-6 py-4",role:"banner",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[r.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Home",children:r.jsx(c,{className:"h-5 w-5 md:h-6 md:w-6 text-gray-600 dark:text-gray-300","aria-hidden":"true"})}),r.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"})]}),r.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:r.jsxs("div",{className:"relative w-full",children:[r.jsx("label",{htmlFor:"dashboard-search",className:"sr-only",children:"Search by Farmer Name, Crop, Query ID"}),r.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400","aria-hidden":"true"}),r.jsx("input",{id:"dashboard-search",type:"text",placeholder:"Search by Farmer Name, Crop, Query ID...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white","aria-describedby":"search-help"}),r.jsx("span",{id:"search-help",className:"sr-only",children:"Search through farmer queries and appointments"})]})}),r.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[r.jsx(S,{}),r.jsxs("button",{className:"relative p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[r.jsx(m,{className:"h-5 w-5 md:h-6 md:w-6 text-gray-600 dark:text-gray-300"}),r.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-white font-medium",children:"3"})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:r.jsx(g,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),r.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-gray-300",children:e?.name})]})]})]}),r.jsx("div",{className:"md:hidden mt-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("label",{htmlFor:"mobile-search",className:"sr-only",children:"Search farmers and queries"}),r.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400","aria-hidden":"true"}),r.jsx("input",{id:"mobile-search",type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white","aria-describedby":"mobile-search-help"}),r.jsx("span",{id:"mobile-search-help",className:"sr-only",children:"Search through farmer queries and appointments"})]})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[r.jsxs("aside",{className:"w-full md:w-1/5 bg-white dark:bg-gray-800 border-r border-gray-200 flex flex-col md:min-h-0",role:"navigation","aria-label":"Main navigation",children:[r.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[r.jsxs("button",{onClick:()=>A("queries"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 "+("queries"===C?"bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-300 border-r-2 border-green-600":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),"aria-current":"queries"===C?"page":void 0,children:[r.jsx(c,{className:"h-5 w-5","aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:"Pending Queries"})]}),r.jsxs("button",{onClick:()=>A("appointments"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 "+("appointments"===C?"bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-300 border-r-2 border-green-600":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),"aria-current":"appointments"===C?"page":void 0,children:[r.jsx(h,{className:"h-5 w-5","aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:"My Appointments"})]}),r.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"View farmer records",children:[r.jsx(u,{className:"h-5 w-5","aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:"Farmer Records"})]}),r.jsxs("button",{onClick:()=>o("/reports"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"View reports and analytics",children:[r.jsx(b,{className:"h-5 w-5","aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:"Reports & Analytics"})]}),r.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Open settings",children:[r.jsx(f,{className:"h-5 w-5","aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:"Settings"})]})]}),r.jsx("div",{className:"px-4 py-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("button",{onClick:()=>{i()},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left text-gray-600 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900 hover:text-red-600 dark:hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Logout from your account",children:[r.jsx(y,{className:"h-5 w-5","aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),r.jsxs("main",{className:"w-full md:w-2/5 bg-white dark:bg-gray-800 border-r border-gray-200 flex flex-col md:min-h-0",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-600 px-4 md:px-6 py-4",children:r.jsxs("div",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[r.jsxs("button",{onClick:()=>A("queries"),className:"pb-2 font-medium transition-colors whitespace-nowrap "+("queries"===C?"text-green-600 dark:text-green-400 border-b-2 border-green-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"),children:["Pending Queries (",I.filter(e=>"pending"===e.status).length,")"]}),r.jsxs("button",{onClick:()=>A("appointments"),className:"pb-2 font-medium transition-colors whitespace-nowrap "+("appointments"===C?"text-green-600 dark:text-green-400 border-b-2 border-green-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"),children:["My Appointments (",P.length,")"]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:["queries"===C&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex space-x-4 mb-6",children:[r.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{children:"Filter by Crop"}),r.jsx("option",{children:"Tomato"}),r.jsx("option",{children:"Wheat"}),r.jsx("option",{children:"Rice"})]}),r.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{children:"Filter by Date"}),r.jsx("option",{children:"Last 7 days"}),r.jsx("option",{children:"Last 30 days"})]}),r.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{children:"Unassigned"}),r.jsx("option",{children:"All"})]})]}),I.map(e=>r.jsxs("div",{onClick:()=>F(e),onKeyDown:r=>{"Enter"!==r.key&&" "!==r.key||(r.preventDefault(),F(e))},className:"p-4 border rounded-lg cursor-pointer transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 "+(q?.id===e.id?"border-green-500 bg-green-50 dark:bg-green-900":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),role:"button",tabIndex:0,"aria-label":`View details for query: ${e.title} from ${e.farmer.name}`,"aria-selected":q?.id===e.id,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1 sm:mb-0",children:e.farmer.name}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.createdAt.toLocaleDateString()})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:e.title}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full",children:e},e))}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800",children:"View Details"}),r.jsx("button",{className:"text-xs text-green-600 dark:text-green-400 hover:text-green-800",children:"Assign to Self"})]})]})]},e.id))]}),"appointments"===C&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"My Appointments"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>L("calendar"),className:"px-3 py-2 rounded-md text-sm font-medium "+("calendar"===D?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"),children:[r.jsx(h,{className:"h-4 w-4 inline mr-1"}),"Calendar"]}),r.jsxs("button",{onClick:()=>L("list"),className:"px-3 py-2 rounded-md text-sm font-medium "+("list"===D?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"),children:[r.jsx(p,{className:"h-4 w-4 inline mr-1"}),"List"]}),r.jsxs("button",{className:"px-3 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 flex items-center",children:[r.jsx(j,{className:"h-4 w-4 mr-1"}),"Add Appointment"]})]})]}),P.map(e=>r.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1 sm:mb-0",children:e.title}),r.jsx("span",{className:"px-2 py-1 text-xs rounded-full self-start "+("scheduled"===e.status?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"),children:e.status})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:e.farmer.name}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(h,{className:"h-4 w-4 mr-1"}),e.date.toLocaleDateString()," at ",e.startTime]})]},e.id))]})]})]}),r.jsx("aside",{className:"w-full md:w-7/20 bg-white dark:bg-gray-800 flex flex-col md:min-h-0",children:q?r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 sm:mb-0",children:["Query #",q.id]}),r.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 text-sm self-start sm:self-auto",children:"View Full Profile"})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Farmer:"})," ",q.farmer.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Village:"})," ",q.farmer.village]})]})]}),r.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Farmer's Original Query"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:q.description}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg mb-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"AI Model Suggestion (Confidence: 85%)"}),r.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Based on the symptoms described, this appears to be a case of tomato leaf curl virus. Recommend immediate isolation of affected plants and application of neem oil spray."})]})]}),r.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Response & Action"}),r.jsx("div",{className:"space-y-3 mb-4",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(g,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"You"}),r.jsx("p",{className:"text-sm text-gray-700",children:"I've reviewed your tomato plants. This looks like a viral infection. Please isolate the affected plants immediately."}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 hours ago"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("textarea",{placeholder:"Type your response...",className:"w-full p-3 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-green-500",rows:3}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(N,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(v,{className:"h-4 w-4"})})]}),r.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 flex items-center",children:[r.jsx(k,{className:"h-4 w-4 mr-1"}),"Send Response"]})]})]})]}),r.jsxs("div",{className:"p-4 md:p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Resolution Controls"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{children:"Awaiting Info"}),r.jsx("option",{children:"Appointment Scheduled"}),r.jsx("option",{children:"Resolved"})]})]}),r.jsxs("button",{className:"w-full px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 flex items-center justify-center",children:[r.jsx(w,{className:"h-4 w-4 mr-1"}),"Mark as Resolved"]})]})]})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(v,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Query"}),r.jsx("p",{className:"text-gray-500",children:"Choose a query from the list to view details and respond"})]})})})]})]})};export{C as default};
//# sourceMappingURL=Dashboard-CeotFKLI.js.map
